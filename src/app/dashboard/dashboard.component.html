<div class="flex flex-column flex-auto">
  <div class=" ml-6 surface-card shadow-2 p-3 border-1 border-50 border-round" style="background-image: linear-gradient(45deg, whitesmoke, aliceblue);">
    <div class="surface-section p-1">
      <div class="flex align-items-start flex-column lg:flex-row lg:justify-content-between">
        <div class="flex align-items-start flex-column md:flex-row relative w-12">
          <img src="/assets/icons/sampleprofilepic.avif" class="mr-5 mb-3 lg:mb-0" style="width: 90px; height: 90px;">
          <div class="mt-3 lg:mt-0">
            <span class="text-900 font-medium text-3xl font-bold">Abdul Shaik</span>
            <i class="pi pi-star text-2xl ml-4 text-yellow-500">
            </i>
            <div class="flex align-items-center flex-wrap text-sm">
              <div class="mr-8 mt-3">
                <span class="text-xl font-large text-900">Job Title</span><br />
                <span class="text-lg font-large text-700">Newyork , USA</span><br />
              </div>
            </div>
          </div>
          <div class="mt-3 lg:mt-0 absolute right-0">
            <button pbutton="" pripple="" icon="pi pi-bookmark" class="p-element p-ripple p-button-rounded mr-2 p-button p-component p-button-icon-only">
              <span class="p-button-icon pi pi-bookmark" aria-hidden="true">
              </span>
              <span class="p-ink">
              </span>
            </button>
            <button pbutton="" pripple="" icon="pi pi-heart" class="p-element p-ripple p-button-rounded p-button-success mr-2 p-button p-component p-button-icon-only">
              <span class="p-button-icon pi pi-heart" aria-hidden="true">
              </span>
              <span class="p-ink">
              </span>
            </button>
            <button pbutton="" pripple="" icon="pi pi-list" class="p-element p-ripple p-button-rounded p-button-help p-button p-component p-button-icon-only">
              <span class="p-button-icon pi pi-list" aria-hidden="true">
              </span>
              <span class="p-ink">
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="p-1" style="margin-top:2em">
      <div class="grid">
        <div class="col-12 lg:col-6 xl:col-3">
          <div class="surface-card shadow-2 p-3 border-1 border-50 border-round">
            <div class="flex justify-content-between mb-3">
              <div>
                <span class="block text-500 font-medium mb-3">Deposits</span>
                <div class="text-900 font-medium text-xl">152</div>
              </div>
              <div class="flex align-items-center justify-content-center bg-blue-100 border-round" style="width: 2.5rem; height: 2.5rem;">
                <i class="pi pi-shopping-cart text-blue-500 text-xl">
                </i>
              </div>
            </div>
            <span class="text-green-500 font-semibold">24 new </span>
            <span class="text-500">since last year</span>
          </div>
        </div>
        <div class="col-12 lg:col-6 xl:col-3">
          <div class="surface-card shadow-2 p-3 border-1 border-50 border-round">
            <div class="flex justify-content-between mb-3">
              <div>
                <span class="block text-500 font-medium mb-3">Net worth</span>
                <div class="text-900 font-medium text-xl">$2.100</div>
              </div>
              <div class="flex align-items-center justify-content-center bg-orange-100 border-round" style="width: 2.5rem; height: 2.5rem;">
                <i class="pi pi-map-marker text-orange-500 text-xl">
                </i>
              </div>
            </div>
            <span class="text-green-500 font-semibold">%52+ </span>
            <span class="text-500">since last week</span>
          </div>
        </div>
        <div class="col-12 lg:col-6 xl:col-3">
          <div class="surface-card shadow-2 p-3 border-1 border-50 border-round">
            <div class="flex justify-content-between mb-3">
              <div>
                <span class="block text-500 font-medium mb-3">Total Meetings held</span>
                <div class="text-900 font-medium text-xl">12</div>
              </div>
              <div class="flex align-items-center justify-content-center bg-cyan-100 border-round" style="width: 2.5rem; height: 2.5rem;">
                <i class="pi pi-inbox text-cyan-500 text-xl">
                </i>
              </div>
            </div>
            <span class="text-green-500 font-semibold">2 </span>
            <span class="text-500">recent meetings this month</span>
          </div>
        </div>
        <div class="col-12 lg:col-6 xl:col-3">
          <div class="surface-card shadow-2 p-3 border-1 border-50 border-round">
            <div class="flex justify-content-between mb-3">
              <div>
                <span class="block text-500 font-medium mb-3">Action Items</span>
                <div class="text-900 font-medium text-xl">15 Pending</div>
              </div>
              <div class="flex align-items-center justify-content-center bg-purple-100 border-round" style="width: 2.5rem; height: 2.5rem;">
                <i class="pi pi-comment text-purple-500 text-xl">
                </i>
              </div>
            </div>
            <span class="text-green-500 font-semibold">25 </span>
            <span class="text-500">Complete</span>
          </div>
        </div>


        <div class="col-12 lg:col-3 xl:col-4">
          <div class="border-round p-4">
            <div class="flex align-content-center">
              <i class="pi pi-calendar-times text-blue-500 text-xl"></i>
              <span class="text-xl text-900 font-medium mb-3 ml-3 font-semibold">Conversation Timeline:</span>
            </div>
            <div class="mb-5 flex">
              <div class="flex flex-column align-items-center" style="width: 2rem;">
                <span class="bg-blue-500 text-0 flex align-items-center justify-content-center border-circle p-2">
                  <i class="pi pi-compass text-xl">
                  </i>
                </span>
                <div class="h-full bg-blue-500" style="width: 2px; min-height: 4rem;">
                </div>
              </div>
              <div class="ml-5 surface-card shadow-2 border-round p-3 flex-auto">
                <div class="grid">
                  <div class="col-12 xl:col-6">
                    <span class="text-900 font-medium inline-block mr-3">Jacob Jones</span>
                    <span class="text-500 text-sm">March 25, 2024 12:00PM</span>
                  </div>
                  <div class="col-12 xl:col-6">
                    <span class="right-0 pi align-items-center" style="color:black;font-weight:bold">
                      <span class="inline-flex align-content-center">
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_satisfied.png" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left:5px;font-weight:700"> 75%</span>
                        </i>
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_neutral.svg" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left: 5px; font-weight: 700"> 15%</span>
                        </i>
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_sad.svg" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left: 5px; font-weight: 700"> 10%</span>
                        </i>
                      </span>
                    </span>
                  </div>
                </div>

                <div class="line-height-3 text-700 mb-4 mt-5">
                  Exploring Tax Optimization Strategies for Abdul Shaik's Financial Plan.
                </div>
                <div class="text-500 flex align-items-center gap-4 relative">
                  <i class="pi pi-bell mr-4 p-text-secondary" pBadge style="font-size: 1.5rem" value="2"></i>
                  <i class="pi pi-calendar mr-4 p-text-secondary" pBadge style="font-size: 1.5rem" [value]="'10+'" severity="danger"></i>
                  <i class="pi pi-envelope p-text-secondary" pBadge style="font-size: 1.5rem" severity="danger"></i>
                  <!--<p-button class="absolute right-0" label="View Details" icon="pi pi-info-circle" size="small"></p-button>-->
                  <a [routerLink]="['/interaction-details']" icon="pi pi-info-circle" size="small" class="p-button absolute right-0" style="color:white;height:2.5rem">
                    <i class="pi pi-info-circle" style="font-size: 12px;margin-right: .5rem"></i>
                    View Details
                  </a>

                </div>
              </div>
            </div>
            <div class="mb-5 flex">
              <div class="flex flex-column align-items-center" style="width: 2rem;">
                <span class="bg-blue-500 text-0 flex align-items-center justify-content-center border-circle p-2">
                  <i class="pi pi-compass text-xl">
                  </i>
                </span>
                <div class="h-full bg-blue-500" style="width: 2px; min-height: 4rem;">
                </div>
              </div>
              <div class="ml-5 surface-card shadow-2 border-round p-3 flex-auto">
                <div class="grid">
                  <div class="col-12 xl:col-6">
                    <span class="text-900 font-medium inline-block mr-3">Jacob Jones</span>
                    <span class="text-500 text-sm">February 27, 2024 12:00PM</span>
                  </div>
                  <div class="col-12 xl:col-6">
                    <span class="right-0 pi align-items-center" style="color:black;font-weight:bold">
                      <span class="inline-flex align-content-center">
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_satisfied.png" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left:5px;font-weight:700"> 75%</span>
                        </i>
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_neutral.svg" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left: 5px; font-weight: 700"> 15%</span>
                        </i>
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_sad.svg" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left: 5px; font-weight: 700"> 10%</span>
                        </i>
                      </span>
                    </span>
                  </div>
                </div>

                <div class="line-height-3 text-700 mb-4 mt-5">
                  Discussing Tax Optimization and Retirement Savings Strategy with Abdul Shaik and Jacob Jones.
                </div>
                <div class="text-500 flex align-items-center gap-4 relative">
                  <i class="pi pi-bell mr-4 p-text-secondary" pBadge style="font-size: 1.5rem" value="2"></i>
                  <i class="pi pi-calendar mr-4 p-text-secondary" pBadge style="font-size: 1.5rem" [value]="'10+'" severity="danger"></i>
                  <i class="pi pi-envelope p-text-secondary" pBadge style="font-size: 1.5rem" severity="danger"></i>
                  <!--<p-button class="absolute right-0" label="View Details" icon="pi pi-info-circle" size="small"></p-button>-->
                  <a [routerLink]="['/interaction-details']" icon="pi pi-info-circle" size="small" class="p-button absolute right-0" style="color:white;height:2.5rem">
                    <i class="pi pi-info-circle" style="font-size: 12px;margin-right: .5rem"></i>
                    View Details
                  </a>

                </div>
              </div>
            </div>
            <div class="mb-5 flex">
              <div class="flex flex-column align-items-center" style="width: 2rem;">
                <span class="bg-blue-500 text-0 flex align-items-center justify-content-center border-circle p-2">
                  <i class="pi pi-compass text-xl">
                  </i>
                </span>
                <div class="h-full bg-blue-500" style="width: 2px; min-height: 4rem;">
                </div>
              </div>
              <div class="ml-5 surface-card shadow-2 border-round p-3 flex-auto">
                <div class="grid">
                  <div class="col-12 xl:col-6">
                    <span class="text-900 font-medium inline-block mr-3">Jacob Jones</span>
                    <span class="text-500 text-sm">January 22, 2024 12:00PM</span>
                  </div>
                  <div class="col-12 xl:col-6">
                    <span class="right-0 pi align-items-center" style="color:black;font-weight:bold">
                      <span class="inline-flex align-content-center">
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_satisfied.png" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left:5px;font-weight:700"> 75%</span>
                        </i>
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_neutral.svg" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left: 5px; font-weight: 700"> 15%</span>
                        </i>
                        <i class="pi mr-2 flex align-items-center">
                          <img src="/assets/icons/sentiment_sad.svg" style="width:2rem; height:2rem; color:yellow" />
                          <span style="margin-left: 5px; font-weight: 700"> 10%</span>
                        </i>
                      </span>
                    </span>
                  </div>
                </div>

                <div class="line-height-3 text-700 mb-4 mt-5">
                  Exploring Tax Loss Harvesting and Other Tax efficient investment strategies.
                </div>
                <div class="text-500 flex align-items-center gap-4 relative">
                  <i class="pi pi-bell mr-4 p-text-secondary" pBadge style="font-size: 1.5rem" value="2"></i>
                  <i class="pi pi-calendar mr-4 p-text-secondary" pBadge style="font-size: 1.5rem" [value]="'10+'" severity="danger"></i>
                  <i class="pi pi-envelope p-text-secondary" pBadge style="font-size: 1.5rem" severity="danger"></i>
                  <!--<p-button class="absolute right-0" label="View Details" icon="pi pi-info-circle" size="small"></p-button>-->
                  <a [routerLink]="['/interaction-details']" icon="pi pi-info-circle" size="small" class="p-button absolute right-0" style="color:white;height:2.5rem">
                    <i class="pi pi-info-circle" style="font-size: 12px;margin-right: .5rem"></i>
                    View Details
                  </a>

                </div>
              </div>
            </div>

          </div>
        </div>
        <div class="col-12 lg:col-3 xl:col-4">
          <div class="border-round p-3">
            <div class="flex align-content-center">
              <i class="pi pi-chart-line text-blue-500 text-xl"></i>
              <span class="text-xl text-900 font-medium mb-3 ml-3 font-semibold">Sentiment Summary:</span>
            </div>            
            <div class="surface-card shadow-2 p-5 border-1 border-50 border-round">
              <div class="surface-section p-1">
                <div class="grid">
                  <div class="col-12 xxl:col-6">
                    <div class="text-xl text-800 font-medium mb-5 font-semibold">Sentiments Over Time</div>
                    <div style="width:15rem;height:15rem;margin-left:20%">
                      <p-chart type="doughnut" [data]="chartData" [options]="chartOptions"></p-chart>
                    </div>
                  </div>
                  <div class="col-12 xxl:col-6">
                    <div class="text-xl text-800 font-medium mb-5 font-semibold">Sentiments By Topic</div>
                    <ul class="list-none p-0 m-0">
                      <li class="mb-5" *ngFor="let sentiment of customerSentimentData">
                        <div class="flex justify-content-between align-items-center">
                          <span class="text-900 inline-flex justify-content-between align-items-center">
                            <span class="font-semibold text-900">{{sentiment.category}}</span>
                          </span>
                        </div>
                        <div class="surface-300 w-full mt-2" style="height: 7px; border-radius: 4px;">
                          <p-progressBar [value]="sentiment.score" color="{{sentiment.color}}"></p-progressBar>
                        </div>
                      </li>
                    </ul>

                    <!--<p-table [value]="customerSentimentData" [tableStyle]="{ 'min-width': '200px' }">
                      <ng-template pTemplate="header">
                        <tr>
                          <th>Category</th>
                          <th>Score</th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-sentiment>
                        <tr>
                          <td>{{ sentiment.category }}</td>
                          <td>
                            <p-progressBar [value]="sentiment.score"></p-progressBar>
                          </td>
                        </tr>
                      </ng-template>
                    </p-table>-->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 lg:col-3 xl:col-4">
          <div class="border-round p-3">
            <div class="flex align-content-center">
              <i class="pi pi-whatsapp text-green-700 text-xl"></i>
              <span class="text-xl text-900 font-medium mb-3 ml-3 font-semibold">Chat with EIVA-AI assistant:</span>
            </div>
            <div class="surface-card shadow-2 p-5 border-1 border-50 border-round">
              <div class="surface-section p-1">
                <div class="grid">
                  <div class="col-12" style="background-color:aliceblue;min-height:30rem">
                    <p-scrollPanel [style]="{ width: '100%', height: '30rem' }" options="scrollOptions">
                      <div class="grid" >
                        <div class="col-12" style="text-align:center">
                          <h2>EIVA AI- Assit</h2>
                          <img src="assets/icons/chatbot.webp" style="height:15rem;padding:2rem;" />
                          <h4>Chat with EIVA-AI Assistant to query more insights on conversations</h4>
                        </div>
                      </div>
                      <div class="grid" *ngFor="let response of chatResponses;index as i">
                        <p-card class="col-10">
                          <span class="font-semibold">{{response.question}}</span>
                        </p-card>
                        <span class="col-2"></span>
                        <span class="col-2"></span>
                        <p-card class="col-10">
                          <span class="text-700" id="{{'response'+i}}" [innerHtml]="response.response"></span>
                        </p-card>
                      </div>

                    </p-scrollPanel>
                  </div>
                  <p-inputGroup class="align-self-end flex">
                    <textarea rows="2" cols="30" pInputTextarea value="value"></textarea>
                    <button type="button" pButton icon="pi pi-send" class="p-button-primary" (click)="getAnswer()"></button>
                  </p-inputGroup>

                </div>
              </div>

            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
